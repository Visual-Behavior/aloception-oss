

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Base dataset &mdash; Aloception 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Merging datasets" href="merge_dataset.html" />
    <link rel="prev" title="Transformations" href="transform.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Aloception
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Geting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/aloscene.html">Aloscene: Computer vision with ease</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/alodataset.html">Alodataset: Loading your datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/alonet.html">Alonet: Loading &amp; training your models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/augmented_tensor.html">About Augmented Tensor</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Turorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/data_setup.html">How to setup your data?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/training_detr.html">Training Detr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/finetuning_detr.html">Finetuning DETR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/training_deformable_detr.html">Training Deformable DETR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/finetuning_deformable_detr.html">Finetuning Deformanble DETR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tensort_inference.html">Exporting DETR / Deformable-DETR to TensorRT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/training_raft.html">Training RAFT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Aloception API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../aloscene/aloscene.html">Aloscene</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="alodataset.html">Alodataset</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="transform.html">Transformations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Base dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="merge_dataset.html">Merging datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="chairssdhom_dataset.html">ChairsSDHom</a></li>
<li class="toctree-l2"><a class="reference internal" href="coco_detection_dataset.html">Coco detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="crowd_human_dataset.html">Crowd human</a></li>
<li class="toctree-l2"><a class="reference internal" href="flyingthings3D_subset_dataset.html">Flyingthings3D Subset</a></li>
<li class="toctree-l2"><a class="reference internal" href="flying_chairs2_dataset.html">FlyingChairs2</a></li>
<li class="toctree-l2"><a class="reference internal" href="waymo_dataset.html">Waymo Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="mot17.html">MOT17</a></li>
<li class="toctree-l2"><a class="reference internal" href="sintel_flow_dataset.html">Sintel Optical Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="sintel_disparity_dataset.html">Sintel Disparity</a></li>
<li class="toctree-l2"><a class="reference internal" href="sintel_multi_dataset.html">Sintel Multi (Flow + Disparity)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../alonet/alonet.html">Alonet</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Aloception</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="alodataset.html">Alodataset</a> &raquo;</li>
        
      <li>Base dataset</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/alodataset/base_dataset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<p>Hello, here is the page</p>
<div class="section" id="module-alodataset.base_dataset">
<span id="base-dataset"></span><h1>Base dataset<a class="headerlink" href="#module-alodataset.base_dataset" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">alodataset.base_dataset.</span></span><span class="sig-name descname"><span class="pre">BaseDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retry_on_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.utils.data.dataset.T_co</span></code>]</p>
<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.download_sample">
<span class="sig-name descname"><span class="pre">download_sample</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.download_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a dataset sample, replacing the original dataset.</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>str</dt><dd><p>New directory: self.vb_folder+”samples”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>Exception</dt><dd><p>The dataset must be one of DATASETS_DOWNLOAD_PATHS</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">rtype</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>
..</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a specific element in the dataset. Note that usually
we could call directly dataset[idx] instead of dataset.get(idx). But right now
__getitem__ is ony fully support through the <cite>stream_loader</cite> and the <cite>train_loader</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx: int</strong></dt><dd><p>Index of the element to get</p>
</dd>
<dt><strong>:rtype: :py:class:`~typing.Dict`[:py:class:`str`, :py:class:`~aloscene.frame.Frame`]</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.get_dataset_dir">
<span class="sig-name descname"><span class="pre">get_dataset_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.get_dataset_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for dataset_dir based on the given name. To work properly a alodataset_config.json
file must be save into /home/USER/.aloception/alodataset_config.json</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.getitem_ignore_errors">
<span class="sig-name descname"><span class="pre">getitem_ignore_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.getitem_ignore_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to get item at index idx.
If data is invalid, retry at a shifted index.
Repeat until the max limit of authorized tries is reached.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the dataset. Not all child class need to implement this method.
However, for some classes, it could be effective to prepare the dataset either
to be faster later or to reduce the storage of the whole dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.set_dataset_dir">
<span class="sig-name descname"><span class="pre">set_dataset_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.set_dataset_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dataset_dir into the config file. This method will
write the  path into /home/USER/.aloception/alodataset_config.json by replacing the current one
(if any)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataset_dir: str</strong></dt><dd><p>Path to the new directory</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.stream_loader">
<span class="sig-name descname"><span class="pre">stream_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.stream_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a stream loader from the dataset. Compared to the <cite>train_loader</cite>
the <cite>stream_loader</cite> do not have batch dimension and do not shuffle the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>num_workers: (int)</strong></dt><dd><p>2 by default.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>a generator</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.train_loader">
<span class="sig-name descname"><span class="pre">train_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">batch_size=1</span></em>, <em class="sig-param"><span class="pre">num_workers=2</span></em>, <em class="sig-param"><span class="pre">sampler=&lt;class</span> <span class="pre">'torch.utils.data.sampler.RandomSampler'&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.train_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training loader from the dataset</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="alodataset.base_dataset.BaseDataset.vb_folder">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">vb_folder</span></span><a class="headerlink" href="#alodataset.base_dataset.BaseDataset.vb_folder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="alodataset.base_dataset.Split">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">alodataset.base_dataset.</span></span><span class="sig-name descname"><span class="pre">Split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.Split" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="alodataset.base_dataset.Split.TEST">
<span class="sig-name descname"><span class="pre">TEST</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'test'</span></em><a class="headerlink" href="#alodataset.base_dataset.Split.TEST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="alodataset.base_dataset.Split.TRAIN">
<span class="sig-name descname"><span class="pre">TRAIN</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'train'</span></em><a class="headerlink" href="#alodataset.base_dataset.Split.TRAIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="alodataset.base_dataset.Split.Type">
<span class="sig-name descname"><span class="pre">Type</span></span><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">=</span> <span class="pre">['train',</span> <span class="pre">'val',</span> <span class="pre">'test']</span></em><a class="headerlink" href="#alodataset.base_dataset.Split.Type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="alodataset.base_dataset.Split.VAL">
<span class="sig-name descname"><span class="pre">VAL</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><em class="property"> <span class="pre">=</span> <span class="pre">'val'</span></em><a class="headerlink" href="#alodataset.base_dataset.Split.VAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alodataset.base_dataset.rename_data_to_none">
<span class="sig-prename descclassname"><span class="pre">alodataset.base_dataset.</span></span><span class="sig-name descname"><span class="pre">rename_data_to_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.rename_data_to_none" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily remove data names until next call to <cite>names</cite> property.
Necessary for pytorch operations that don’t support named tensors</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alodataset.base_dataset.stream_loader">
<span class="sig-prename descclassname"><span class="pre">alodataset.base_dataset.</span></span><span class="sig-name descname"><span class="pre">stream_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.stream_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a stream loader from the dataset. Compared to the <cite>train_loader</cite>
the <cite>stream_loader</cite> do not have batch dimension and do not shuffle the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>num_workers: (int)</strong></dt><dd><p>2 by default.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alodataset.base_dataset.train_loader">
<span class="sig-prename descclassname"><span class="pre">alodataset.base_dataset.</span></span><span class="sig-name descname"><span class="pre">train_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dataset</span></em>, <em class="sig-param"><span class="pre">batch_size=1</span></em>, <em class="sig-param"><span class="pre">num_workers=2</span></em>, <em class="sig-param"><span class="pre">sampler=&lt;class</span> <span class="pre">'torch.utils.data.sampler.RandomSampler'&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#alodataset.base_dataset.train_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get training loader from the dataset</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="merge_dataset.html" class="btn btn-neutral float-right" title="Merging datasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="transform.html" class="btn btn-neutral float-left" title="Transformations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Visual Behavior.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>